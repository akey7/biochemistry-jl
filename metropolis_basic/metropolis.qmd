---
title: "Metropolis Algorithm"
format:
  html:
    toc: true
    html-math-method: mathjax
    code-fold: false
---

```{julia}
#| label: using-things
#| eval: true
#| include: false

using Printf
using Plots
using Distributions
plotlyjs()
```

## Make p(x) and f(x)

Assuming

$$ p(x) = {f(x) \over NC} $$

Where NC is a normalizing constant that is unknown. Therefore, this demo will use the f(x) PDF as a proxy for an unknown p(x).

### Define the function

```{julia}
#| label: f-pdf
#| eval: true
#| include: true

function f_pdf(xs)
    μ1 = 1
    σ1 = 1
    dist1 = Normal(μ1, σ1)

    μ2 = -2.0
    σ2 = 0.5
    dist2 = Normal(μ2, σ2)

    μ3 = -5.0
    σ3 = 1.5
    dist3 = Normal(μ3, σ3)

    pdf.(dist1, xs) + pdf.(dist2, xs).*0.25 + pdf.(dist3, xs)
end;  # ; suppresses output in the Quarto document.
```

### Make a plot of it

```{julia}
#| label: plot-f-pdf
#| eval: true
#| include: true

xs = range(start=-11, stop=5, length=200)
ys = f_pdf(xs)

plot(xs, ys)
```
